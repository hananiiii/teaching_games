<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Korean Proficiency Test - Level 1</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Custom styles to complement Tailwind */
        .question-container {
            transition: all 0.2s ease-in-out;
        }
        .option-button:hover {
            transform: translateY(-1px);
        }
        .selected {
            background-color: #dbeafe;
            border-color: #3b82f6;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        /* Hide the SVG radar chart since we're using Chart.js */
        .radar-svg {
            display: none;
        }
        /* Prevent word splitting for Korean text */
        .korean-text {
            word-break: keep-all;
            overflow-wrap: normal;
            white-space: normal;
        }
        /* Responsive adjustments */
        @media (max-width: 640px) {
            .question-container {
                padding: 1rem !important; /* Reduced padding on mobile */
            }
            .korean-text {
                font-size: 0.9rem; /* Smaller font size on mobile */
                line-height: 1.4; /* Tighter line spacing */
            }
            .option-button {
                padding: 0.75rem !important; /* Reduced padding for buttons */
                font-size: 0.85rem; /* Smaller button text */
            }
            .radar-chart-container {
                width: 100% !important;
                max-width: 16rem !important; /* Smaller radar chart on mobile */
            }
            table {
                font-size: 0.8rem !important; /* Smaller table text */
            }
            th, td {
                padding: 0.5rem !important; /* Reduced table cell padding */
            }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen py-4 sm:py-8">
    <div id="app" class="max-w-4xl mx-auto p-4 sm:p-6"></div>

    <script>
        // State management
        let state = {
            name: '',
            nationality: '',
            birthYear: '',
            answers: {},
            showTest: false,
            showResults: false,
            score: 0,
            vocabScore: 0,
            grammarScore: 0,
            understandScore: 0
        };

        const currentDate = '2025.08.25';

        // Questions array (same as provided)
        const questions = [
          
    { "id": 1, "section": "vocabulary", "type": "multiple", "korean": "ê°€: ì´ ê°€ë°©ì´ í¬ë‹¤ê³  ìƒê°í•´ìš”?\në‚˜: ì•„ë‹ˆìš”, ê°€ë°©ì´ ( ).", "options": ["ì‘ì•„ìš”", "ë¬´ê±°ì›Œìš”", "ë¹„ì‹¸ìš”", "ì»¤ìš”"], "correct": "1" },
{ "id": 2, "section": "vocabulary", "type": "multiple", "korean": "ê°€: ì˜¤ëŠ˜ ë‚ ì”¨ê°€ ë¥ë„¤ìš”.\në‚˜: ë„¤, ì–´ì œëŠ” ( ).", "options": ["ë”°ëœ»í–ˆì–´ìš”", "ì¶”ì› ì–´ìš”", "íë ¸ì–´ìš”", "ë”ì› ì–´ìš”"], "correct": "2" },
{ "id": 3, "section": "vocabulary", "type": "multiple", "korean": "ê°€: ì˜í™”ê°€ ì¬ë¯¸ìˆì—ˆì–´ìš”?\në‚˜: ì•„ë‹ˆìš”, ( ).", "options": ["ì§€ë£¨í–ˆì–´ìš”", "ì¬ë¯¸ì—†ì—ˆì–´ìš”", "ê¸¸ì—ˆì–´ìš”", "ì§§ì•˜ì–´ìš”"], "correct": "2" },
{ "id": 4, "section": "vocabulary", "type": "multiple", "korean": "ê°€: ì´ ìŒì‹ì´ ì‹¸ìš”?\në‚˜: ì•„ë‹ˆìš”, ( ).", "options": ["ë§µì–´ìš”", "ì§œìš”", "ë¹„ì‹¸ìš”", "ë‹¬ì•„ìš”"], "correct": "3" },
{ "id": 5, "section": "vocabulary", "type": "multiple", "korean": "ê°€: í•™êµê°€ ì§‘ì—ì„œ ë©€ì–´ìš”?\në‚˜: ì•„ë‹ˆìš”, ( ).", "options": ["ì˜ˆë»ìš”", "ë„“ì–´ìš”", "ê°€ê¹Œì›Œìš”", "ì»¤ìš”"], "correct": "3" },
{ "id": 6, "section": "vocabulary", "type": "multiple", "korean": "ê°€: ì´ ë°©ì´ ë°ì•„ìš”.\në‚˜: ë„¤, ì € ë°©ì€ ( ).", "options": ["ê¹¨ë—í•´ìš”", "ì–´ë‘ì›Œìš”", "ì¢ì•„ìš”", "ì‹œë„ëŸ¬ì›Œìš”"], "correct": "2" },
{ "id": 7, "section": "vocabulary", "type": "multiple", "korean": "ê°€: ì˜¤ë¹ ê°€ í‚¤ê°€ ì»¤ìš”?\në‚˜: ì•„ë‹ˆìš”, ( ).", "options": ["ì˜ìƒê²¼ì–´ìš”", "ì¹œì ˆí•´ìš”", "í‚¤ê°€ ì‘ì•„ìš”", "ì‚´ì´ ìª˜ì–´ìš”"], "correct": "3" },
{ "id": 8, "section": "vocabulary", "type": "multiple", "korean": "ê°€: ì´ ì»¤í”¼ê°€ ëœ¨ê±°ì›Œìš”.\në‚˜: ê·¸ëŸ¼ ì € ì»¤í”¼ëŠ” ( )?", "options": ["ë‹¬ì•„ìš”", "ì°¨ê°€ì›Œìš”", "ì“´ë§›ì´ì—ìš”", "ëœ¨ê±°ì›Œìš”"], "correct": "2" },
{ "id": 9, "section": "vocabulary", "type": "multiple", "korean": "ê°€: ì•„ì¹¨ì— ì¼ì° ì¼ì–´ë‚˜ìš”?\në‚˜: ì•„ë‹ˆìš”, ( ) ì¼ì–´ë‚˜ìš”.", "options": ["ê°€ë”", "ë¹¨ë¦¬", "ëŠ¦ê²Œ", "ìì£¼"], "correct": "3" },
{ "id": 10, "section": "vocabulary", "type": "multiple", "korean": "ê°€: ì´ ê¸¸ì´ ë³µì¡í•´ìš”?\në‚˜: ì•„ë‹ˆìš”, ( ).", "options": ["ê¹¨ë—í•´ìš”", "ì‹œë„ëŸ¬ì›Œìš”", "ì¡°ìš©í•´ìš”", "ë„“ì–´ìš”"], "correct": "3" },

{ "id": 11, "section": "grammar", "type": "mark", "korean": "ì €ëŠ” (í•™ìƒ / ì´ì—ìš” / ì…ë‹ˆë‹¤).", "options": ["í•™ìƒì´ì—ìš”", "í•™ìƒí•´ìš”", "í•™ìƒìˆì–´ìš”", "í•™ìƒì…ë‹ˆë‹¤"], "correct": "4" },
{ "id": 12, "section": "grammar", "type": "mark", "korean": "ì¹œêµ¬ (ê°€ / ì´ / ì„) ë§Œë‚˜ìš”.", "options": ["ì¹œêµ¬ë¡œ", "ì¹œêµ¬ë¥¼", "ì¹œêµ¬ê°€", "ì¹œêµ¬ì—"], "correct": "2" },
{ "id": 13, "section": "grammar", "type": "mark", "korean": "ë„ì„œê´€ (ì—ì„œ / ì— / ë¡œ) ê³µë¶€í•´ìš”.", "options": ["ë„ì„œê´€ì´", "ë„ì„œê´€ì„", "ë„ì„œê´€ì—ì„œ", "ë„ì„œê´€ì—"], "correct": "3" },
{ "id": 14, "section": "grammar", "type": "mark", "korean": "ì´ê²ƒ (ì€ / ëŠ” / ì„) ë­ì˜ˆìš”?", "options": ["ì´ê²ƒì—", "ì´ê²ƒì€", "ì´ê²ƒì„", "ì´ê²ƒì´"], "correct": "2" },
{ "id": 15, "section": "grammar", "type": "mark", "korean": "ì§‘ (ì— / ì—ì„œ / ë¡œ) ê°€ìš”.", "options": ["ì§‘ì—ì„œ", "ì§‘ìœ¼ë¡œ", "ì§‘ì—", "ì§‘ì„"], "correct": "3" },
{ "id": 16, "section": "grammar", "type": "multiple", "korean": "ì €ëŠ” ( )ì„ ë¨¹ì–´ìš”.", "options": ["ê°€ë°©", "ì‚¬ê³¼", "íœ", "ì±…"], "correct": "2" },
{ "id": 17, "section": "grammar", "type": "multiple", "korean": "í•™êµì— ( ) ê°€ìš”.", "options": ["ê³µë¶€í•˜ëŸ¬", "ì¹œêµ¬ì™€", "ì±…ì„", "ë²„ìŠ¤ë¡œ"], "correct": "2" },
{ "id": 18, "section": "grammar", "type": "multiple", "korean": "ì´ê²ƒì€ ( )ì…ë‹ˆë‹¤.", "options": ["ê½ƒ", "ë¬¼", "ì±…ìƒ", "ì„ ìƒë‹˜"], "correct": "3" },
{ "id": 19, "section": "grammar", "type": "multiple", "korean": "ì €ëŠ” ( )ì— ì‚½ë‹ˆë‹¤.", "options": ["ì¹œêµ¬", "í•™êµ", "ì„œìš¸", "ì±…"], "correct": "3" },
{ "id": 20, "section": "grammar", "type": "multiple", "korean": "( )ì´/ê°€ ì¢‹ì•„ìš”?", "options": ["ê°€ë°©", "ìŒì•…", "ë¬¼", "ì§‘"], "correct": "2" },

{ "id": 21, "section": "understanding", "type": "multiple", "korean": "ê°€: ì•ˆë…•í•˜ì„¸ìš”!\në‚˜: ( )", "options": ["ê³ ë§™ìŠµë‹ˆë‹¤!", "ì•ˆë…•í•˜ì„¸ìš”!", "ì£„ì†¡í•©ë‹ˆë‹¤!", "ì•ˆë…•íˆ ê°€ì„¸ìš”!"], "correct": "2" },
{ "id": 22, "section": "understanding", "type": "multiple", "korean": "ê°€: ì´ë¦„ì´ ë­ì˜ˆìš”?\në‚˜: ( )", "options": ["í•œêµ­ ì‚¬ëŒì´ì—ìš”", "ìŠ¤ë¬´ ì‚´ì´ì—ìš”", "ì €ëŠ” ê¹€ì² ìˆ˜ì˜ˆìš”", "ë„¤, ë§ì•„ìš”"], "correct": "3" },
{ "id": 23, "section": "understanding", "type": "multiple", "korean": "ê°€: ì§€ê¸ˆ ëª‡ ì‹œì˜ˆìš”?\në‚˜: ( )", "options": ["í•œêµ­ì´ì—ìš”", "ì›”ìš”ì¼ì´ì—ìš”", "3ì‹œì˜ˆìš”", "2ì›”ì´ì—ìš”"], "correct": "3" },
{ "id": 24, "section": "understanding", "type": "multiple", "korean": "ê°€: ì–´ë””ì—ì„œ ì™”ì–´ìš”?\në‚˜: ( )", "options": ["í•™êµì— ê°€ìš”", "ì±…ì„ ì½ì–´ìš”", "ì¤‘êµ­ì—ì„œ ì™”ì–´ìš”", "í•œêµ­ì–´ë¥¼ ê³µë¶€í•´ìš”"], "correct": "3" },
{ "id": 25, "section": "understanding", "type": "multiple", "korean": "ê°€: ë­˜ ë“œì‹œê² ì–´ìš”?\në‚˜: ( )", "options": ["ê°ì‚¬í•©ë‹ˆë‹¤", "ì»¤í”¼ ì£¼ì„¸ìš”", "ì•„ë‹ˆìš”, ê´œì°®ì•„ìš”", "ë„¤, ìˆì–´ìš”"], "correct": "2" },
{ "id": 26, "section": "understanding", "type": "multiple", "korean": "ê°€: ì–´ë””ì— ì‚´ì•„ìš”?\në‚˜: ( )", "options": ["í•™êµì˜ˆìš”", "ì„œìš¸ì— ì‚´ì•„ìš”", "ì¹œêµ¬ì˜ˆìš”", "ì±…ì´ì—ìš”"], "correct": "2" },
{ "id": 27, "section": "understanding", "type": "multiple", "korean": "ê°€: ë­í•˜ì„¸ìš”?\në‚˜: ( )", "options": ["ê°€ë°©ì´ì—ìš”", "ê³µë¶€í•´ìš”", "ë¬¼ì´ì—ìš”", "ì§‘ì´ì—ìš”"], "correct": "2" },
{ "id": 28, "section": "understanding", "type": "multiple", "korean": "ê°€: ëª‡ ì‚´ì´ì—ìš”?\në‚˜: ( )", "options": ["ì§‘ì´ì—ìš”", "25ì‚´ì´ì—ìš”", "í•™êµì˜ˆìš”", "ì±…ì´ì—ìš”"], "correct": "2" },
{ "id": 29, "section": "understanding", "type": "multiple", "korean": "ê°€: ë§›ìˆì–´ìš”?\në‚˜: ( )", "options": ["ì‹«ì–´ìš”", "ë„¤, ë§›ìˆì–´ìš”", "ë³„ë¡œì˜ˆìš”", "ë³´í†µì´ì—ìš”"], "correct": "2" },
{ "id": 30, "section": "understanding", "type": "multiple", "korean": "ê°€: ì–¸ì œ ê°€ìš”?\në‚˜: ( )", "options": ["ì˜¤ëŠ˜ ê°€ìš”", "ê³§ ê°€ìš”", "ë‚´ì¼ ê°€ìš”", "ì§€ê¸ˆ ê°€ìš”"], "correct": "3" },
{ "id": 31, "section": "understanding", "type": "multiple", "korean": "ê°€: ëˆ„êµ¬ì˜ˆìš”?\në‚˜: ( )", "options": ["ì œ ì¹œêµ¬ì˜ˆìš”", "ì €ëŠ” í•™ìƒì´ì—ìš”", "ì„ ìƒë‹˜ì´ì—ìš”", "ëª¨ë¦…ë‹ˆë‹¤"], "correct": "2" },
{ "id": 32, "section": "understanding", "type": "multiple", "korean": "ê°€: ì–´ë”” ê°€ìš”?\në‚˜: ( )", "options": ["ì‹œì¥ì— ê°€ìš”", "í•™êµì— ê°€ìš”", "ì§‘ì— ìˆì–´ìš”", "ê³µë¶€í•´ìš”"], "correct": "2" },
{ "id": 33, "section": "understanding", "type": "multiple", "korean": "ê°€: ë­ê°€ ì¢‹ì•„ìš”?\në‚˜: ( )", "options": ["ì±…ì´ ì¢‹ì•„ìš”", "ìŒì•…ì´ ì¢‹ì•„ìš”", "ìš´ë™ì´ ì¢‹ì•„ìš”", "ë°¥ì´ ì¢‹ì•„ìš”"], "correct": "2" },
{ "id": 34, "section": "understanding", "type": "multiple", "korean": "ê°€: ì–¸ì œ ë§Œë‚ ê¹Œìš”?\në‚˜: ( )", "options": ["ì˜¤ëŠ˜ ë§Œë‚˜ìš”", "ë‚´ì¼ ë§Œë‚ ê²Œìš”", "ì£¼ë§ì— ë§Œë‚˜ìš”", "ê³§ ë§Œë‚˜ìš”"], "correct": "2" },
{ "id": 35, "section": "understanding", "type": "multiple", "korean": "ê°€: ì–´ë””ì„œ ê³µë¶€í•´ìš”?\në‚˜: ( )", "options": ["ë„ì„œê´€ì—ì„œ ê³µë¶€í•´ìš”", "ë°©ì—ì„œ ê³µë¶€í•´ìš”", "í•™êµì—ì„œ ê³µë¶€í•´ìš”", "ì¹´í˜ì—ì„œ ê³µë¶€í•´ìš”"], "correct": "1" },
{ "id": 36, "section": "understanding", "type": "multiple", "korean": "ê°€: ë­ ë¨¹ì–´ìš”?\në‚˜: ( )", "options": ["ë°¥ì„ ë¨¹ì–´ìš”", "ê¹€ì¹˜ë¥¼ ë¨¹ì–´ìš”", "ë¼ë©´ì„ ë¨¹ì–´ìš”", "ë¹µì„ ë¨¹ì–´ìš”"], "correct": "2" },
{ "id": 37, "section": "understanding", "type": "multiple", "korean": "ê°€: ì–´ë””ì„œ ì¼í•´ìš”?\në‚˜: ( )", "options": ["í•™êµì—ì„œ", "ì‹ë‹¹ì—ì„œ", "íšŒì‚¬ì—ì„œ ì¼í•´ìš”", "ê°€ê²Œì—ì„œ"], "correct": "3" },
{ "id": 38, "section": "understanding", "type": "multiple", "korean": "ê°€: ë­ ì‚¬ìš”?\në‚˜: ( )", "options": ["ì˜·ì„ ì‚¬ìš”", "ë¬¼ì„ ì‚¬ìš”", "ì‚¬ê³¼ë¥¼ ì‚¬ìš”", "ì±…ì„ ì‚¬ìš”"], "correct": "3" },
{ "id": 39, "section": "understanding", "type": "multiple", "korean": "ê°€: ì–¸ì œ ì˜¤ì„¸ìš”?\në‚˜: ( )", "options": ["ë‚´ì¼ ì™€ìš”", "5ì‹œì— ì™€ìš”", "ê³§ ì™€ìš”", "ì˜¤ëŠ˜ ì™€ìš”"], "correct": "2" },
{ "id": 40, "section": "understanding", "type": "multiple", "korean": "ê°€: ëˆ„êµ¬ì™€ ê°€ìš”?\në‚˜: ( )", "options": ["ë™ìƒê³¼ ê°€ìš”", "ë¶€ëª¨ë‹˜ê³¼ ê°€ìš”", "ì„ ìƒë‹˜ê³¼ ê°€ìš”", "ì¹œêµ¬ì™€ ê°€ìš”"], "correct": "4" }

        ];

        // Helper functions
        function formatQuestionText(text) {
            return text.split('\n').map(line => 
                `<div class="korean-text ${line.startsWith('ê°€:') || line.startsWith('ë‚˜:') ? 'text-blue-700 font-medium' : ''}">${line}</div>`
            ).join('');
        }

        function getSectionTitle(questionId) {
            if (questionId >= 1 && questionId <= 10) {
                return '(1-10) ë°‘ì¤„ ì¹œ ë¶€ë¶„ê³¼ ë°˜ëŒ€ë˜ëŠ” ëœ»ì„ ê°€ì§„ ê²ƒì„ ê³ ë¥´ì‹­ì‹œì˜¤.\nChoose the word that has the opposite meaning to the underlined part.';
            } else if (questionId >= 11 && questionId <= 15) {
                return '(11-15) ì•Œë§ì€ ê²ƒì— O í•˜ì‹­ì‹œì˜¤.\nMark O for the right one.';
            } else if (questionId >= 16 && questionId <= 40) {
                return '(16-40) ê°€ì¥ ì•Œë§ì€ ë‹µì„ ê³ ë¥´ì‹­ì‹œì˜¤.\nChoose the most appropriate answer.';
            }
            return '';
        }

        function handleStart() {
            if (state.name && state.nationality && state.birthYear) {
                state.showTest = true;
                render();
            }
        }

        function handleAnswerChange(id, value) {
            state.answers[id] = value;
            render();
        }

        function submitTest() {
            let vocabCount = 0, grammarCount = 0, understandCount = 0;
            let vocabTotal = 0, grammarTotal = 0, understandTotal = 0;

            questions.forEach(q => {
                if (q.section === 'vocabulary') {
                    vocabTotal++;
                    if (state.answers[q.id] === q.correct) vocabCount++;
                }
                if (q.section === 'grammar') {
                    grammarTotal++;
                    if (state.answers[q.id] === q.correct) grammarCount++;
                }
                if (q.section === 'understanding') {
                    understandTotal++;
                    if (state.answers[q.id] === q.correct) understandCount++;
                }
            });

            state.vocabScore = Math.round((vocabCount / vocabTotal) * 44);
            state.grammarScore = Math.round((grammarCount / grammarTotal) * 56);
            state.understandScore = Math.round((understandCount / understandTotal) * 100);
            state.score = Math.round(((vocabCount + grammarCount + understandCount) / questions.length) * 100);
            state.showResults = true;
            render();
        }

        // Render function
        function render() {
            const app = document.getElementById('app');
            if (!state.showTest) {
                app.innerHTML = `
                    <div class="max-w-2xl mx-auto p-4 sm:p-8">
                        <div class="bg-white rounded-lg shadow-lg p-4 sm:p-8">
                            <div class="text-center mb-6 sm:mb-8 pb-4 sm:pb-6 border-b-2 border-blue-600">
                                <h1 class="text-2xl sm:text-3xl font-bold text-gray-800 mb-2">í•œêµ­ì–´ ëŠ¥ë ¥ í‰ê°€ ì‹œí—˜ (Level 1)</h1>
                                <p class="text-xs sm:text-sm text-gray-600 mb-1">Korean Proficiency Test - Beginner Level</p>
                                <p class="text-xs sm:text-sm text-gray-500">Ø§Ù…ØªØ­Ø§Ù† ØªØ­Ø¯ÙŠØ¯ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù„ØºØ© Ø§Ù„ÙƒÙˆØ±ÙŠØ© - Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„</p>
                            </div>
                            <div class="bg-gray-50 p-3 sm:p-4 rounded-lg mb-4 sm:mb-6 text-xs sm:text-sm text-gray-700">
                                <strong>ì§€ì‹œì‚¬í•­ (Instructions / Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª):</strong><br/>
                                â€¢ ê° ë¬¸ì œì—ì„œ ê°€ì¥ ì ì ˆí•œ ë‹µì„ ì„ íƒí•˜ì„¸ìš”.<br/>
                                â€¢ Choose the most appropriate answer for each question.<br/>
                                â€¢ Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ø£Ù†Ø³Ø¨ Ù„ÙƒÙ„ Ø³Ø¤Ø§Ù„.
                            </div>
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-gray-700 font-medium mb-2 text-sm sm:text-base">Name / Ø§Ù„Ø§Ø³Ù…:</label>
                                    <input
                                        type="text"
                                        id="name"
                                        class="w-full border border-gray-300 p-2 sm:p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base"
                                        placeholder="Enter your name"
                                    />
                                </div>
                                <div>
                                    <label class="block text-gray-700 font-medium mb-2 text-sm sm:text-base">Nationality / Ø§Ù„Ø¬Ù†Ø³ÙŠØ©:</label>
                                    <input
                                        type="text"
                                        id="nationality"
                                        class="w-full border border-gray-300 p-2 sm:p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base"
                                        placeholder="Enter your nationality"
                                    />
                                </div>
                                <div>
                                    <label class="block text-gray-700 font-medium mb-2 text-sm sm:text-base">Year of birth / Ø³Ù†Ø© Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯:</label>
                                    <input
                                        type="number"
                                        id="birthYear"
                                        class="w-full border border-gray-300 p-2 sm:p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base"
                                        placeholder="Enter your birth year"
                                        min="1900"
                                        max="2010"
                                    />
                                </div>
                            </div>
                            <button 
                                id="startButton"
                                class="w-full mt-4 sm:mt-6 bg-blue-600 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-semibold hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors text-sm sm:text-base"
                            >
                                Start Test / Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
                            </button>
                        </div>
                    </div>
                `;
                document.getElementById('name').addEventListener('input', (e) => state.name = e.target.value);
                document.getElementById('nationality').addEventListener('input', (e) => state.nationality = e.target.value);
                document.getElementById('birthYear').addEventListener('input', (e) => state.birthYear = e.target.value);
                const startButton = document.getElementById('startButton');
                startButton.disabled = !state.name || !state.nationality || !state.birthYear;
                startButton.addEventListener('click', handleStart);
                document.getElementById('name').addEventListener('input', () => {
                    startButton.disabled = !state.name || !state.nationality || !state.birthYear;
                });
                document.getElementById('nationality').addEventListener('input', () => {
                    startButton.disabled = !state.name || !state.nationality || !state.birthYear;
                });
                document.getElementById('birthYear').addEventListener('input', () => {
                    startButton.disabled = !state.name || !state.nationality || !state.birthYear;
                });
            } else if (state.showResults) {
                const vocabPercentage = Math.round((state.vocabScore / 44) * 100);
                const grammarPercentage = Math.round((state.grammarScore / 56) * 100);
                const understandPercentage = Math.round((state.understandScore / 100) * 100);

                app.innerHTML = `
                    <div class="max-w-6xl mx-auto p-4 sm:p-8">
                        <div class="bg-white rounded-lg shadow-lg p-4 sm:p-8">
                            <div class="flex items-center mb-6 sm:mb-8">
                                <div class="w-10 sm:w-12 h-10 sm:h-12 bg-gradient-to-br from-amber-400 to-amber-600 rounded-lg flex items-center justify-center mr-3 sm:mr-4">
                                    <span class="text-white font-bold text-base sm:text-lg">ì„¸</span>
                                </div>
                                <div>
                                    <h1 class="text-xl sm:text-2xl font-bold text-gray-800">online Korean test results</h1>
                                </div>
                            </div>
                            <div class="overflow-x-auto mb-6 sm:mb-8">
                                <table class="w-full border-collapse border border-gray-300">
                                    <thead>
                                        <tr class="bg-gray-100">
                                            <th class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm font-medium">Name</th>
                                            <th class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm font-medium">Nationality</th>
                                            <th class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm font-medium">Year of birth</th>
                                            <th class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm font-medium">Date of exam</th>
                                            <th class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm font-medium">Test option</th>
                                            <th class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm font-medium">Level Placement</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm">${state.name}</td>
                                            <td class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm">${state.nationality}</td>
                                            <td class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm">${state.birthYear}</td>
                                            <td class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm">${currentDate}</td>
                                            <td class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm">Beginner</td>
                                            <td class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm bg-green-100 font-semibold">3A</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <p class="korean-text text-xs sm:text-sm text-gray-600 mb-6 sm:mb-8">
                                â€»Level placement result can be adjusted through additional consultation with Korean language teachers or according to each King Sejong Institute's learning condition.
                            </p>
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-8">
                                <div>
                                    <h2 class="text-lg sm:text-xl font-bold text-gray-800 mb-4">Detailed evaluation result</h2>
                                    <div class="overflow-x-auto">
                                        <table class="w-full border-collapse border border-gray-300">
                                            <thead>
                                                <tr class="bg-gray-100">
                                                    <th class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm font-medium">Details area</th>
                                                    <th class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm font-medium">Test Score</th>
                                                    <th class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm font-medium">Points possible</th>
                                                    <th class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm font-medium">Percentage correct</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm font-medium">Vocabulary</td>
                                                    <td class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm text-center">${state.vocabScore}</td>
                                                    <td class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm text-center">44</td>
                                                    <td class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm text-center bg-blue-50">${vocabPercentage}%</td>
                                                </tr>
                                                <tr>
                                                    <td class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm font-medium">Grammar</td>
                                                    <td class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm text-center">${state.grammarScore}</td>
                                                    <td class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm text-center">56</td>
                                                    <td class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm text-center bg-green-50">${grammarPercentage}%</td>
                                                </tr>
                                                <tr>
                                                    <td class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm font-medium">Understand</td>
                                                    <td class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm text-center">${state.understandScore}</td>
                                                    <td class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm text-center">100</td>
                                                    <td class="border border-gray-300 p-2 sm:p-3 text-xs sm:text-sm text-center bg-yellow-50">${understandPercentage}%</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="flex flex-col items-center">
                                    <h3 class="text-base sm:text-lg font-semibold mb-4 sm:mb-6 text-gray-800">Performance Radar</h3>
                                    <div class="radar-chart-container w-full max-w-xs sm:max-w-sm">
                                        <canvas id="radarChart" class="w-full h-auto"></canvas>
                                    </div>
                                    <div class="radar-svg">
                                        <svg viewBox="0 0 200 200" class="w-full h-full">
                                            <defs>
                                                <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
                                                    <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#e5e7eb" strokeWidth="1"/>
                                                </pattern>
                                            </defs>
                                            ${[20, 40, 60, 80].map((r, i) => `
                                                <circle cx="100" cy="100" r="${r}" fill="none" stroke="#e5e7eb" strokeWidth="1"/>
                                            `).join('')}
                                            <line x1="100" y1="20" x2="100" y2="180" stroke="#e5e7eb" strokeWidth="1"/>
                                            <line x1="30" y1="150" x2="170" y2="50" stroke="#e5e7eb" strokeWidth="1"/>
                                            <line x1="30" y1="50" x2="170" y2="150" stroke="#e5e7eb" strokeWidth="1"/>
                                            <polygon
                                                points="100,${100 - (vocabPercentage * 0.8)} ${100 + (grammarPercentage * 0.69)},${100 + (grammarPercentage * 0.4)} ${100 - (understandPercentage * 0.69)},${100 + (understandPercentage * 0.4)}"
                                                fill="rgba(59, 130, 246, 0.3)"
                                                stroke="#3b82f6"
                                                strokeWidth="2"
                                            />
                                            <circle cx="100" cy="${100 - (vocabPercentage * 0.8)}" r="4" fill="#3b82f6"/>
                                            <circle cx="${100 + (grammarPercentage * 0.69)}" cy="${100 + (grammarPercentage * 0.4)}" r="4" fill="#3b82f6"/>
                                            <circle cx="${100 - (understandPercentage * 0.69)}" cy="${100 + (understandPercentage * 0.4)}" r="4" fill="#3b82f6"/>
                                            <text x="100" y="15" text-anchor="middle" class="text-xs fill-gray-600" font-size="12">Vocabulary</text>
                                            <text x="185" y="155" text-anchor="middle" class="text-xs fill-gray-600" font-size="12">Grammar</text>
                                            <text x="15" y="155" text-anchor="middle" class="text-xs fill-gray-600" font-size="12">Understand</text>
                                        </svg>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-6 sm:mt-8 pt-4 sm:pt-6 border-t border-gray-200 text-center">
                                <button 
                                    onclick="window.print()"
                                    class="bg-blue-600 text-white px-6 sm:px-8 py-2 sm:py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors shadow-md text-sm sm:text-base"
                                >
                                    Print Results
                                </button>
                            </div>
                        </div>
                    </div>
                `;

                // Initialize Chart.js radar chart
                const ctx = document.getElementById('radarChart').getContext('2d');
                new Chart(ctx, {
                    type: 'radar',
                    data: {
                        labels: ['Vocabulary', 'Grammar', 'Understand'],
                        datasets: [{
                            label: 'Performance',
                            data: [vocabPercentage, grammarPercentage, understandPercentage],
                            fill: true,
                            backgroundColor: 'rgba(59, 130, 246, 0.3)',
                            borderColor: '#3b82f6',
                            pointBackgroundColor: '#3b82f6',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: '#3b82f6'
                        }]
                    },
                    options: {
                        scales: {
                            r: {
                                angleLines: { color: '#e5e7eb' },
                                grid: { color: '#e5e7eb' },
                                pointLabels: { font: { size: 10 } }, // Smaller labels on mobile
                                ticks: { beginAtZero: true, max: 100, stepSize: 20 }
                            }
                        },
                        plugins: {
                            legend: { display: false }
                        }
                    }
                });
            } else {
                app.innerHTML = `
                    <div class="bg-white rounded-lg shadow-lg p-4 sm:p-8">
                        <div class="text-center mb-6 sm:mb-8 pb-4 sm:pb-6 border-b-2 border-blue-600">
                            <h1 class="text-2xl sm:text-3xl font-bold text-gray-800 mb-2">í•œêµ­ì–´ ëŠ¥ë ¥ í‰ê°€ ì‹œí—˜ (Level 1)</h1>
                            <p class="text-xs sm:text-sm text-gray-600 mb-1">Korean Proficiency Test - Beginner Level</p>
                            <p class="text-xs sm:text-sm text-gray-500">Ø§Ù…ØªØ­Ø§Ù† ØªØ­Ø¯ÙŠØ¯ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù„ØºØ© Ø§Ù„ÙƒÙˆØ±ÙŠØ© - Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„</p>
                        </div>
                        <div class="bg-blue-50 p-3 sm:p-4 rounded-lg mb-4 sm:mb-6 text-xs sm:text-sm text-gray-700 border-l-4 border-blue-400 korean-text">
                            <strong>ì§€ì‹œì‚¬í•­ (Instructions / Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª):</strong><br/>
                            â€¢ ê° ë¬¸ì œì—ì„œ ê°€ì¥ ì ì ˆí•œ ë‹µì„ ì„ íƒí•˜ì„¸ìš”.<br/>
                            â€¢ Choose the most appropriate answer for each question.<br/>
                            â€¢ Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ø£Ù†Ø³Ø¨ Ù„ÙƒÙ„ Ø³Ø¤Ø§Ù„.
                        </div>
                        <div class="space-y-6 sm:space-y-8">
                            ${questions.map((q, index) => {
                                const isNewSection = index === 0 || q.id === 11 || q.id === 16;
                                return `
                                    <div>
                                        ${isNewSection ? `
                                            <div class="bg-blue-100 p-3 sm:p-4 rounded-lg mb-4 sm:mb-6 border-l-4 border-blue-500">
                                                <div class="font-bold text-blue-800 whitespace-pre-line text-xs sm:text-sm korean-text">
                                                    ${getSectionTitle(q.id)}
                                                </div>
                                            </div>
                                        ` : ''}
                                        <div class="question-container bg-gray-50 p-4 sm:p-6 rounded-lg border border-gray-200">
                                            <div class="flex items-start mb-4">
                                                <span class="bg-blue-600 text-white px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-bold mr-2 sm:mr-3 mt-1">${q.id}</span>
                                                <div class="flex-1">
                                                    <div class="bg-blue-50 p-3 sm:p-4 rounded-lg border-l-3 border-l-blue-400 mb-3 sm:mb-4">
                                                        <div class="text-sm sm:text-base leading-relaxed korean-text">${formatQuestionText(q.korean)}</div>
                                                    </div>
                                                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3">
                                                        ${q.options.map((option, optIndex) => {
                                                            const optionValue = q.type === 'mark' ? option : (optIndex + 1).toString();
                                                            const isSelected = state.answers[q.id] === optionValue;
                                                            return `
                                                                <button
                                                                    onclick="handleAnswerChange(${q.id}, '${optionValue}')"
                                                                    class="option-button p-3 sm:p-4 text-left rounded-lg border-2 transition-all duration-200 hover:shadow-md ${isSelected ? 'selected' : 'bg-white border-gray-300 hover:bg-gray-50 hover:border-blue-300'} text-sm sm:text-base"
                                                                >
                                                                    <span class="font-semibold text-blue-600 mr-2">${option.split(' ')[0]}</span>
                                                                    <span class="text-gray-800 korean-text">${option.substring(option.indexOf(' ') + 1)}</span>
                                                                </button>
                                                            `;
                                                        }).join('')}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                        <div class="mt-8 sm:mt-12 pt-6 sm:pt-8 border-t border-gray-200 text-center">
                            <div class="bg-green-50 p-4 sm:p-6 rounded-lg border border-green-200 mb-4 sm:mb-6">
                                <h3 class="text-base sm:text-lg font-bold text-green-800 mb-2 korean-text">ì‹œí—˜ ì™„ë£Œ - Test Completed - Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h3>
                                <p class="text-xs sm:text-sm text-green-700 korean-text">ë‹µì•ˆì„ ê²€í† í•˜ê³  ì œì¶œí•˜ì„¸ìš” - Review your answers and submit - Ø±Ø§Ø¬Ø¹ Ø¥Ø¬Ø§Ø¨Ø§ØªÙƒ ÙˆØ³Ù„Ù‘Ù… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</p>
                            </div>
                            <button 
                                onclick="submitTest()"
                                class="bg-green-600 text-white px-6 sm:px-8 py-3 sm:py-4 rounded-lg font-semibold hover:bg-green-700 transition-colors shadow-lg text-sm sm:text-lg"
                            >
                                ğŸ¯ Submit Test / ØªØ³Ù„ÙŠÙ… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
                            </button>
                        </div>
                    </div>
                `;
            }
        }

        // Initial render
        render();
    </script>
</body>
</html>
